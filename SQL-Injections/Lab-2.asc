Lab: SQL injection vulnerability allowing login bypass

- La lógica del Login

Cuando escribes tu usuario y contraseña, el servidor suele ejecutar una consulta como esta para verificar tus credenciales:

 SELECT * FROM users WHERE username = 'tu_usuario' AND password = 'tu_contraseña'

Si la base de datos encuentra una fila que coincida exactamente con ambos datos, te deja entrar.

- El "truco" para saltar la validación

El objetivo es hacer que la consulta sea siempre verdadera, incluso si la contraseña es incorrecta o está vacía.

El payload que se usa normalmente en el campo de usuario es: administrator'--

- ¿Qué ocurre internamente?

Al insertar ese código, la consulta SQL se transforma en esto:

 SELECT * FROM users WHERE username = 'administrator'--' AND password = '...'

Esto rompe la seguridad por dos motivos:

El cierre de comilla ('): Cierra prematuramente el campo del nombre de usuario.

El comentario (--): Le dice a la base de datos que ignore el resto de la línea. Por lo tanto, la parte que verifica la contraseña (AND password = ...)
 deja de existir para el motor de la base de datos.

- El resultado

La base de datos solo ejecuta: SELECT * FROM users WHERE username = 'administrator'.

Como el usuario "administrator" existe, la base de datos devuelve su perfil. La aplicación ve que la base de datos "encontró una coincidencia" y 
te permite loguearte como administrador automáticamente, sin haber verificado jamás la contraseña.