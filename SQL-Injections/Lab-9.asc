Lab: SQL injection UNION attack, retrieving data from other tables

üéØ Objetivo

Extraer los nombres de usuario y contrase√±as de la tabla users y utilizar las credenciales del usuario administrator para loguearse en la aplicaci√≥n.

- Enumeraci√≥n previa

Antes de atacar, confirmamos los requisitos b√°sicos:

N√∫mero de columnas: Usando

 ' ORDER BY 2--

Confirmamos que hay 2 columnas.

Tipo de datos: Usando 

 ' UNION SELECT 'a', 'b'-- 

Confirmamos que ambas columnas aceptan texto.  Lo hacen ‚úÖ

-Explotaci√≥n (Extracci√≥n de credenciales)

El enunciado nos dice que la tabla se llama users y las columnas son username y password.

Payload para exfiltrar datos: [source,sql]

 ' UNION SELECT username, password FROM users--

image:img/SQL-9.1.png[]

Al inyectar esto en el par√°metro category, la aplicaci√≥n realizar√° la b√∫squeda normal de productos y luego pegar√° debajo toda la lista de usuarios y contrase√±as almacenados en la base de datos.

Identificamos al usuario administrator y copiamos su contrase√±a.

- Resoluci√≥n final

Una vez obtenida la contrase√±a, vamos a la secci√≥n "My account" del laboratorio e iniciamos sesi√≥n.

User: administrator

Password: [La contrase√±a que extrajiste]

image:img/SQL-9.2.png[]
