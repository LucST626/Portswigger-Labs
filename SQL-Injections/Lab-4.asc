
Para este laboratorio, el objetivo es el mismo que el de Oracle (extraer la versión), pero la sintaxis cambia porque MySQL y Microsoft SQL Server (MYSQL) no son tan estrictos con las tablas virtuales.


- El método (UNION)

Al igual que antes, usamos UNION SELECT para "pegar" la versión de la base de datos a los resultados de la búsqueda de productos.

- Diferencias clave en la sintaxis

A diferencia de Oracle, aquí no necesitas la tabla DUAL. Puedes pedir la versión directamente.


- Pasos para resolverlo

Determinar el número de columnas: Inyectas ' ORDER BY 1--, luego ' ORDER BY 2--. Si el sitio funciona con 2 pero falla con 3, hay 2 columnas.

Verificar compatibilidad de datos: Pruebas ' UNION SELECT 'abc', 'def'#. Si el texto aparece en pantalla, las columnas aceptan cadenas.

Extraer la versión: Usas el payload final según el motor:

Microsoft: ' UNION SELECT @@version, NULL--

MySQL: ' UNION SELECT @@version, NULL#

4. ¿Qué sucedió?

La consulta final se convirtió en: SELECT name, description FROM products WHERE category = 'Gifts' UNION SELECT @@version, NULL#

@@version: Es una variable global que contiene el nombre y la versión del software.

NULL: Se usa para rellenar la segunda columna, ya que la consulta original tenía dos.

# o --: Corta el resto de la consulta original para evitar errores de sintaxis.